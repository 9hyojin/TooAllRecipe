<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1200">
    <title>recipeSave</title>
    <link rel="icon" href="/images/logo.png">
    <link rel="stylesheet" href="/css/recipes.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
</head>

<body>
<div id="wrapper">
    <div id="header" role="banner">
        <nav class="navbar bg-body-tertiary">
            <div class="container-fluid">
                <img class="d-inline-block align-text-top" src="/images/logo.png" alt="Logo">
                <ul class="nav justify-content-end">
                    <li class="nav-item">
                        <a class="nav-link " href="/home">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/recipes" >Recipes</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" >Schedules</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#"  >Community</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#"  >My</a>
                    </li>
                    <button class="btn btn-secondary" type="button" style="font-weight: bold">Login</button>
                </ul>
            </div>
        </nav>
    </div>
    <div id="container" role="main" >
        <div class="recipe-form">
            <p class="upload-text1" style="padding-top: 50px;">레시피올리기</p>

            <form action="/recipes/save" method="post" enctype="multipart/form-data" >

                <div class="container text-center">
                    <div class="row g-2">
                        <div class="col-md-8">
                            <div class="p-1">
                                <div class="recipe-form-text">
                                    <p style="padding-top: 20px;">제목 <input name="title" type="text" placeholder="예) 저탄수 가지덮밥" style="border: solid; padding-left: 10px;"></p>
                                    <p style="padding-top: 15px;">요리 소개 <textarea name="introduce" type="text" placeholder="요리를 간단히 소개해주세요" style="height: 100px; padding-left: 10px; text-align: left; border: solid; vertical-align: top;"></textarea></p>
                                    <div style="padding-left: 400px;">
                                        <select class="form-select form-select-sm" aria-label=".form-select-sm example" STYLE="width: 200px; background-color: lightgrey">
                                            <option selected>카테고리 선택</option>
                                            <option value="1">Hot dishes</option>
                                            <option value="2">Cold dishes</option>
                                            <option value="3">Vegan</option>
                                            <option value="2">Spicy</option>
                                            <option value="2">Desserts</option>
                                            <option value="2">Drinks</option>
                                        </select>
                                    </div>
                                    <p style="font-size: small; color: dimgray; padding-top: 15px;">카테고리를 꼭 선택해주세요!</p>
                                    <p style="vertical-align: top; padding-top: 15px;">조리 시간 <input name="cookingTime" type="text" placeholder="예) 80분" style="border: solid; padding-left: 10px;"></p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="p-1">
                                <p>대표이미지를 선택해주세요</p>
                                <p><input type="file" id="thumb" name="file" accept="image/*" onchange="setThumbnail(event);"></p>
                                <div id="thumb_container" style="width: 300px; height: 300px;"></div>
                                <script>
                                    function setThumbnail(event) {
                                        const reader = new FileReader();

                                        reader.onload = function(event) {
                                            const img = document.createElement("img");
                                            img.setAttribute("src", event.target.result);
                                            img.style.width = '300px';
                                            img.style.height = '300px';
                                            document.querySelector("div#thumb_container").appendChild(img);
                                        };

                                        reader.readAsDataURL(event.target.files[0]);
                                    }
                                </script>
                            </div>
                        </div>
                    </div>
                </div>
                재료 목록 <textarea name="ingredients" type="text" placeholder="예) 돼지고기 300g" style="width:900px; height: 150px; border: solid; padding-left: 10px;"></textarea>
                <p>레시피 순서</p>
                <div class="recipeStep1">
                    step1 <textarea name="recipeStep1" type="text" placeholder="예) 가지를 기다랗게 잘라주세요" style="width:500px; height: 150px; border: solid; padding-left: 10px;"></textarea>
                    <input type="file" id="recipeStep1" name="file" accept="image/*" onchange="setRecipeStep(event);">
                    <div id="step1_container" style="width: 160px; height: 160px;"></div>
                    <script>
                        function setRecipeStep(event) {
                            const reader = new FileReader();

                            reader.onload = function(event) {
                                const img = document.createElement("img");
                                img.setAttribute("src", event.target.result);
                                img.style.width = '160px';
                                img.style.height = '160px';
                                document.querySelector("div#step1_container").appendChild(img);
                            };

                            reader.readAsDataURL(event.target.files[0]);
                        }
                    </script>
                </div>

                <script type="text/javascript">
                    function addStep(){
                        document.getElementById("inner").innerHTML="ddd";
                    }
                </script>
                <button type="button" onclick="addStep()">순서 추가</button>
                <span id="inner"></span>


            </form>
        </div>

        <div style="text-align: center; padding-top: 20px;"><input type="submit" value="작성"></div>
    </div>


</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
</body>
</html>